<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>General error model</title>

  <link rel="icon" type="image/png" href="docs/favicon.png">

  <!-- Load d3.js -->
  <script src="https://d3js.org/d3.v4.js"></script>

  <!-- Load fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&family=Open+Sans:wght@300;400&family=Roboto:wght@300&display=swap" rel="stylesheet">
  <link href="docs/index.css" rel="stylesheet">
</head>

<body>

  <div class="navbar-custom">
    <div id="navbar">
      <ul class="nav">
        <li><a href="https://doi.org/10.1364/AO.56.008436">
            <b style="font-family:Montserrat;font-size:11pt;">A GENERAL ERROR MODEL</b>
            <br><span style="font-size:9pt;">for optical signals</span>
          </a></li>
        <li style="padding-top:29px;"><a href="https://github.com/tsipkens">
          Created by Timothy Sipkens</a></li>
      </ul>
    </div>
  </div>



  <div class="main">

    <h2>A general error model for optical signals</h2>

    <p align="justify">
      This model generalizes the Poisson-Gaussian error model to allow
      for fluctuations between measured signals, as described
      by <a href="https://doi.org/10.1364/AO.56.008436">Sipkens et al</a>.
      Originally, the error model was built to describe time-resolved
      laser-induced incandescence (TiRe-LII) signals but has applications
      that extend beyond this original scope.
    </p>

    <p align="justify">
      Overall, the model includes contributions from three components, pictured below.
    </p>

    <img src="docs/kinds_of_noise.png" alt="Noise types" class="center" style="max-width:95%;">

    <p align="justify">
      Additive white, <b>Gaussian noise</b> affects the signal more uniformly
      and is the primary source of noise at lower signals.
    </p>

    <p align="justify">
      <b>Shot</b> or <b>Poisson noise</b>, which is incorporated by "reducing"
      the signal by θ, will result in lower signals containing smaller
      fluctuations. Reducing the Gaussian contributions, by lowering γ,
      one can clearly see this effect.
      This work approximates this type of noise
      as Guassian. As a result, when θ is large (such that the
      peak signal is below 50 counts, e.g., in the shoulder signal for this
      <a href="#hlegend" id="set2">this set of parameters</a>),
      artifacts become visible in this approximation.
      Significant negative counts start to appear and
      discretized values will not be visible as they would in true
      Poisson-corrupted data.
    </p>

    <p align="justify">
      Finally, variations in a multiplier between measured signals
      or <b>shot-to-shot variations</b> allow individual signals to
      appear above or below the overall average. This is convolved
      with Poisson noise, such that signals higher than the average
      will contain more noise (this is vsisibly apparent for
      <a href="#hlegend" id="set1">
        this set of parameters</a>).
    </p>

    <h3 id="hlegend">Legend and viz controls</h3>

    <p align="justify">
      Yellow is a signal two standard deviations below the average,
      dark purple is a signal two standard deviation above the average,
      and red is a signal about the average.
      As a result, changing τ will stretch the bounds.
    </p>

    <div class="control">
      <b>Gaussian: </b>
      <input type="range" name="gamSlider" id="gamSlider" min="1" max="21" value="7" style="height:6px;" onchange="displayval(this.value, gam_vec, 'gamval');"> |
      γ = <output id="gamval">-</output>
    </div>

    <div class="control">
      <b>Poisson: </b>
      <input type="range" name="theSlider" id="theSlider" min="1" max="19" value="7" style="height:6px;" onchange="displayval(this.value, the_vec, 'theval');"> |
      θ = <output id="theval">-</output> |
      max{s} = <output id="theval2">-</output> [counts]
    </div>

    <div class="control">
      <b>Shot-to-shot: </b>
      <input type="range" name="tauSlider" id="tauSlider" min="1" max="21" value="11" style="height:6px;" onchange="displayval(this.value, tau_vec, 'tauval');"> |
      τ = <output id="tauval">-</output>
    </div>


    <!-- Create a div where the graph will take place -->
    <div id="my_dataviz" style="padding-top:30px;"></div>

    <hr>

    <p align="justify">
      This web app was created in association with work completed
      at the University of Waterlloo and supports an article in Applied Optics:
    </p>

    <p align="justify" style="padding-left:10px;padding-right:10px;">
      <a href="https://doi.org/10.1364/AO.56.008436">
        Sipkens, T.A., Hadwin, P.J., Grauer, S.J. and Daun, K.J., 2017.
        General error model for analysis of laser-induced incandescence signals.
        <i>Applied optics</i>, 56(30), pp.8436-8445.
      </a>
    </p>

    <p align="justify" style="padding-bottom:20px">
      Matlab and Javascript code supporting this data viz is available
      <a href="https://github.com/tsipkens/wat-lii-error">here</a>.
    </p>

    <script src="js/add_noise.js"></script>

  </div>
</body>

</html>
